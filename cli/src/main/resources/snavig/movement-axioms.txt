"Resource" import "/snavig/map-axioms.txt".
"Resource" import "/snavig/character-axioms.txt".

A place-discoverer must be a player-character.
A map-place may have place-discoverers.

If a game-character goes east, then
 the game-character's container must have an eastern-exit;
 otherwise the game-interpreter complains "There is no way to the east.".
If a game-character goes west, then
 the game-character's container must have a western-exit;
 otherwise the game-interpreter complains "There is no way to the west.".
If a game-character goes north, then
 the game-character's container must have a northern-exit;
 otherwise the game-interpreter complains "There is no way to the north.".
If a game-character goes south, then
 the game-character's container must have a southern-exit;
 otherwise the game-interpreter complains "There is no way to the south.".

If a game-character goes north, then
 the game-character traverses the game-character's container's northern-exit.
If a game-character goes south, then
 the game-character traverses the game-character's container's southern-exit.
If a game-character goes east, then
 the game-character traverses the game-character's container's eastern-exit.
If a game-character goes west, then
 the game-character traverses the game-character's container's western-exit.

If a game-character traverses a map-exit, then the map-exit's exit-door must be open;
 otherwise the game-interpreter complains "But the door is not open.".

If a game-character traverses a map-exit, then
 the game-character moves to the map-exit's target-place.

If a player-character moves to a map-place, then
 the map-place must be the player-character's container's map-neighbor;
 otherwise the game-interpreter complains "You can't get there from here.".
If a game-character moves to a map-place, then
 the game-character is in the map-place.
If a game-character enters a map-location, then
 the game-character moves to the map-location.

If a game-character moves to a map-place, then
 the game-character surveys the map-place.
If a game-character surveys a map-place, then
 the game-character perceives the map-place and
  the map-place's spc-contained-objects.
If a game-character surveys a map-place, then
 the game-character surveys the map-place's place-exits.
If a game-character surveys a map-place, then
 the game-character surveys the map-place's place-entrances.

If a game-character surveys a map-connection, then
 the game-character perceives the map-connection.
If a game-character surveys a map-connection, then
 the game-character perceives the map-connection's exit-doors.

If a player-character moves to a map-place, then
 the player-character might be the map-place's place-discoverer;
 otherwise the player-character discovers the map-place.
If a player-character moves to a map-place, then
 the player-character might not be the map-place's place-discoverer;
 otherwise the player-character rediscovers the map-place.
