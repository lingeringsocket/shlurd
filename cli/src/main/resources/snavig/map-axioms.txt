"Resource" import "/snavig/basic-axioms.txt".

A map-place is a kind of location.
A map-place's place-description must be a quotation.
A map-connection is a kind of describable-entity.
A map-neighbor must be a map-place.
A map-place may have map-neighbors.
A map-place with a map-neighbor is a map-neighbor.

A north-south-passage is a kind of map-connection.
An east-west-passage is a kind of map-connection.

A northern-place must be a map-place.
A southern-place must be a map-place.
An eastern-place must be a map-place.
A western-place must be a map-place.

A northern-exit must be a map-connection.
A southern-exit must be a map-connection.
A eastern-exit must be a map-connection.
A western-exit must be a map-connection.

A map-place may have a northern-exit.
A map-place may have a southern-exit.
A map-place may have an eastern-exit.
A map-place may have a western-exit.

A map-connection may have a northern-place.
A map-connection may have a southern-place.
A map-connection may have an eastern-place.
A map-connection may have a western-place.

A map-place with a northern-exit is a southern-place.
A map-place with a southern-exit is a northern-place.
A map-place with an eastern-exit is a western-place.
A map-place with a western-exit is an eastern-place.

If a map-place is north of a map-location, then
 the map-place has a southern-exit.
If a map-place is north of a map-location, then
 the map-place's southern-exit is a north-south-passage.
If a map-place is north of a map-location, then equivalently
 the map-location is the map-place's southern-exit's southern-place.
If a map-place is north of a map-location, then equivalently
 the map-place is the map-location's northern-exit's northern-place.

If a map-place is south of a map-location, then
 the map-place has a northern-exit.
If a map-place is south of a map-location, then
 the map-place's northern-exit is a north-south-passage.
If a map-place is south of a map-location, then equivalently
 the map-location is the map-place's northern-exit's northern-place.
If a map-place is south of a map-location, then equivalently
 the map-place is the map-location's southern-exit's southern-place.

If a map-place is west of a map-location, then
 the map-place has an eastern-exit.
If a map-place is west of a map-location, then
 the map-place's eastern-exit is an east-west-passage.
If a map-place is west of a map-location, then equivalently
 the map-location is the map-place's eastern-exit's eastern-place.
If a map-place is west of a map-location, then equivalently
 the map-place is the map-location's western-exit's western-place.

If a map-place is east of a map-location, then
 the map-place has a western-exit.
If a map-place is east of a map-location, then
 the map-place's western-exit is an east-west-passage.
If a map-place is east of a map-location, then equivalently
 the map-location is the map-place's western-exit's western-place.
If a map-place is east of a map-location, then equivalently
 the map-place is the map-location's eastern-exit's eastern-place.

If a map-place is west of a map-location, then the map-place is the map-location's map-neighbor.
If a map-place is east of a map-location, then the map-place is the map-location's map-neighbor.
If a map-place is north of a map-location, then the map-place is the map-location's map-neighbor.
If a map-place is south of a map-location, then the map-place is the map-location's map-neighbor.

A door is a kind of map-connection.
A door must be open or closed.
